'use client';
import React, { useEffect, useRef } from 'react';

const LoadingLogo: React.FC = () => {
  const pathRefs = useRef<(SVGPathElement | null)[]>([]);

  useEffect(() => {
    pathRefs.current.forEach((path) => {
      if (path) {
        const length = path.getTotalLength();
        path.style.strokeDasharray = `${length}`;
        path.style.strokeDashoffset = `${length}`;
        path.style.setProperty('--path-length', `${length}px`);
      }
    });
  }, []);

  return (
    <div className="flex h-screen items-center justify-center">
      <svg
        className="h-48 w-48"
        width="408"
        height="461"
        viewBox="0 0 408 461"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          ref={(el) => {
            pathRefs.current[0] = el;
          }}
          d="M9.01494 0.611023C4.41976 0.611023 0.699097 4.33698 0.699097 8.92686V127.262C0.699097 127.262 1.70081 180.968 39.7767 218.042L73.2414 185.78C73.2414 185.78 45.787 162.534 45.787 118.247V45.7042H110.114V149.708L155.202 107.021V8.92686C155.202 4.33168 151.476 0.611023 146.886 0.611023H9.01494Z"
          stroke="#233539"
          strokeWidth="4"
          fill="#233539"
          className="animate-draw-path-reverse"
        />
        <path
          ref={(el) => {
            pathRefs.current[1] = el;
          }}
          d="M62.2279 231.748L37.1054 256.266C13.8274 278.982 0.704407 310.126 0.704407 342.652V454.113C0.704407 457.431 3.39685 460.124 6.71471 460.124H149.197C152.515 460.124 155.207 457.431 155.207 454.113V362.533C155.207 362.533 199.696 319.449 204.106 314.44C208.516 309.431 214.123 306.023 247.795 296.404C281.461 286.784 302.905 277.366 302.905 277.366C286.475 260.331 261.024 244.701 261.024 244.701C261.024 244.701 242.786 250.113 215.533 258.127C188.28 266.14 170.244 277.965 170.244 277.965L142.588 251.713L106.717 287.584L109.722 290.59V415.237H45.5962V344.317C45.5962 321.892 54.7123 300.432 70.8511 284.866L220.589 142.871L318.54 45.9056H361.826V116.847C361.826 168.751 321.747 197.806 321.747 197.806C277.258 166.345 236.882 163.737 236.882 163.737L194.693 205.82H203.708C291.033 205.82 361.821 280.164 361.821 346.898V414.633H316.33L227.554 328.862L194.688 361.526L298.092 460.118H399.796C403.723 460.118 406.909 456.933 406.909 453.006V342.689C406.909 280.567 357.21 230.667 357.21 230.667C403.299 188.785 407.306 127.262 407.306 127.262V9.82788C407.306 4.73449 403.177 0.611023 398.089 0.611023H299.094L160.682 137.777L62.2332 231.748H62.2279Z"
          stroke="#233539"
          strokeWidth="4"
          fill="#233539"
          className="animate-draw-path-reverse"
        />
      </svg>
    </div>
  );
};

export default LoadingLogo;
